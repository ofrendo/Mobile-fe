<ion-view title="{{'TRIP_LIST.TITLE' | translate}}">
  <content-header></content-header>
  <ion-content class="has-header">
  <button class="button" ng-click="tripListCtrl.data.showReordering = !tripListCtrl.data.showReordering">Reorder</button>
    <ion-list class="trip-list" show-reorder="tripListCtrl.data.showReordering">
      <ion-item ng-repeat="trip in trips | orderBy: 'start_date'" ng-click="tripListCtrl.navToCityList(trip)">
        	<div class="date">
        		<div class="date-start">{{trip.start_date | date: 'dd.MM.yy'}}</div>
        		<div class="date-end">{{trip.end_date | date: 'dd.MM.yy'}}</div>
        	</div>
        	<div class="actions">
        		<button class="button button-icon icon ion-edit" ng-click="tripListCtrl.navToEditTrip(trip)" stop-event></button>
        	</div>
        	<div class="item-center">
        		<div class="name">{{trip.name}}</div>
        		<div class="info">
        			{{'TRIP_LIST.TRIP_INFO' | translate: '{no_participants: trip.no_participants, no_cities: trip.no_cities}'}}	
        		</div>
        	</div>
        	<ion-reorder-button class="ion-navicon"
	        					on-reorder="tripListCtrl.reorderTrip(trip, $fromIndex, $toIndex)">
	        </ion-reorder-button>
      </ion-item>
    </ion-list>
  </ion-content>
  <ion-footer-bar class="bar bar-positive triplist-footer">
    	<button class="button button-icon icon ion-plus-round" ng-click="tripListCtrl.navToAddTrip()">{{'TRIP_LIST.ADD_TRIP_BTN' | translate}}</button>
    </ion-footer-bar>
</ion-view>